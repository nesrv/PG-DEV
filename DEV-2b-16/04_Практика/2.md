# Практика-2

1. Производственные смены каждого сотрудника фабрики хранятся в таблице. Напишите запрос, который покажет, сколько человеко-часов пропадет даром, если в некоторый момент времени на 15 минут будет отключено электричество.

2. В таблице, содержащей много данных, используется столбец статуса, имеющий тип перечисления. Проверьте, какие блокировки будут установлены на таблицу при необходимости добавления нового статуса, и какое время занимает эта операция. Сравните с альтернативным подходом, при котором перечисление реализуется как обычный текстовый тип с ограничением CHECK на уровне столбца или домена.

1. Производственные смены могут храниться в таблице вида:

```sql
CREATE TABLE shifts (
  employee_name text,
  work_hours tstzrange
);
````

2. Блокировки можно посмотреть в таблице `pg_locks`, как говорилось в теме «Обзор блокировок». Кроме обычной проверки

```sql
status text CHECK (status IN (...))
```

рассмотрите также вариант с использованием домена.



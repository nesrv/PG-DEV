
**–î–µ–Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è** ‚Äî —ç—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å —á–∞—Å—Ç–∏—á–Ω–æ–≥–æ –∏–ª–∏ –ø–æ–ª–Ω–æ–≥–æ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏ —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω–æ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Ä–∞–¥–∏ –ø–æ–≤—ã—à–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏–ª–∏ —É–ø—Ä–æ—â–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º.

---

## ‚ùó –ó–∞—á–µ–º –¥–µ–Ω–æ—Ä–º–∞–ª–∏–∑—É—é—Ç –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö?

| –¶–µ–ª—å                       | –û–±—ä—è—Å–Ω–µ–Ω–∏–µ                                |
| -------------------------- | ----------------------------------------- |
| üí° –£—Å–∫–æ—Ä–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤      | –ú–µ–Ω—å—à–µ JOIN'–æ–≤, –±—ã—Å—Ç—Ä–µ–µ –∞–≥—Ä–µ–≥–∞—Ü–∏–∏         |
| üìâ –°–Ω–∏–∂–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏       | –ú–µ–Ω—å—à–µ –æ–±—Ä–∞—â–µ–Ω–∏–π –∫ —Ç–∞–±–ª–∏—Ü–∞–º               |
| üìä –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –æ—Ç—á—ë—Ç–Ω–æ—Å—Ç–∏    | –£–ø—Ä–æ—â—ë–Ω–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏        |
| üßæ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ | –°–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è |

---

## üì¶ –ü—Ä–∏–º–µ—Ä—ã –¥–µ–Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏

---

### üîÅ –ü—Ä–∏–º–µ—Ä 1: –ò–∑–±—ã—Ç–æ—á–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö (–¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ)

#### –î–æ (–Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–æ)

```sql
-- Orders
OrderID | CustomerID | ProductID | Quantity

-- Customers
CustomerID | Name | Address

-- Products
ProductID | Name | Price
```

#### –ü–æ—Å–ª–µ (–¥–µ–Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–æ)

```sql
-- Orders (–≤—Å—ë –≤ –æ–¥–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ)
OrderID | CustomerName | CustomerAddress | ProductName | Price | Quantity
```

‚úÖ –ú–µ–Ω—å—à–µ JOIN'–æ–≤, –±—ã—Å—Ç—Ä–µ–µ SELECT

‚ö†Ô∏è –ú–∏–Ω—É—Å—ã: –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ, —Ä–∏—Å–∫ —Ä–∞—Å—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏

---

### üßÆ –ü—Ä–∏–º–µ—Ä 2: –í—ã—á–∏—Å–ª—è–µ–º—ã–µ –ø–æ–ª—è

#### –î–æ:

```sql
SELECT Quantity * Price AS Total FROM Orders;
```

#### –ü–æ—Å–ª–µ:

```sql
-- Orders
OrderID | Quantity | Price | Total
```

‚úÖ –£—Å–∫–æ—Ä–µ–Ω–∏–µ –æ—Ç—á—ë—Ç–æ–≤ –∏ –∞–≥—Ä–µ–≥–∞—Ü–∏–π

‚ö†Ô∏è –ú–∏–Ω—É—Å: –Ω—É–∂–Ω–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, —á–µ—Ä–µ–∑ —Ç—Ä–∏–≥–≥–µ—Ä—ã)

---

### üîó –ü—Ä–∏–º–µ—Ä 3: –ò–Ω–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –æ–¥–Ω–æ–≥–æ —É—Ä–æ–≤–Ω—è —Å–≤—è–∑–∏

#### –î–æ:

```sql
-- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏ –†–æ–ª–∏
Users(UserID), Roles(RoleID), UserRoles(UserID, RoleID)
```

#### –ü–æ—Å–ª–µ:

```sql
-- Users
UserID | RoleIDs (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–∞–∫ –º–∞—Å—Å–∏–≤: {1,2,5})
```

‚úÖ –ë—ã—Å—Ç—Ä–µ–µ –≤—ã–±–æ—Ä–∫–∞, –ø—Ä–æ—â–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ NoSQL –∏–ª–∏ JSONB

‚ö†Ô∏è –ú–∏–Ω—É—Å: –Ω–∞—Ä—É—à–µ–Ω–∞ —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω–æ—Å—Ç—å, —Å–ª–æ–∂–Ω–µ–µ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è

---

## üìâ –ú–∏–Ω—É—Å—ã –¥–µ–Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏

| –ù–µ–¥–æ—Å—Ç–∞—Ç–æ–∫                   | –û–ø–∏—Å–∞–Ω–∏–µ                                           |
| ---------------------------- | -------------------------------------------------- |
| üîÅ –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö       | –£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –æ–±—ä—ë–º —Ö—Ä–∞–Ω–∏–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö                  |
| üîß –°–ª–æ–∂–Ω–æ—Å—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è      | –ù—É–∂–Ω–æ –æ–±–Ω–æ–≤–ª—è—Ç—å –¥—É–±–ª–∏–∫–∞—Ç—ã –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∞  |
| üîÑ –í–æ–∑–º–æ–∂–Ω–∞ —Ä–∞—Å—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è | –ò–∑-–∑–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –Ω–æ—Ä–º–∞–ª—å–Ω—ã—Ö —Å–≤—è–∑–µ–π –º–µ–∂–¥—É —Ç–∞–±–ª–∏—Ü–∞–º–∏ |
| üö´ –ù–∞—Ä—É—à–µ–Ω–∏–µ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏     | –°–ª–æ–∂–Ω–µ–µ —Å–æ–±–ª—é–¥–µ–Ω–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –∏ —Å–≤—è–∑–µ–π            |

---

## üõ†Ô∏è –ü–æ–¥—Ö–æ–¥—ã –∫ –¥–µ–Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏ –≤ PostgreSQL

* **Materialized Views** ‚Äî –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –æ–±–Ω–æ–≤–ª—è—Ç—å –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é:

  ```sql
  CREATE MATERIALIZED VIEW sales_summary AS
  SELECT date, SUM(total) FROM orders GROUP BY date;
  ```

* **Generated Columns** (—Å PostgreSQL 12+):

  ```sql
  ALTER TABLE orders ADD COLUMN total GENERATED ALWAYS AS (price * quantity) STORED;
  ```

* **–¢—Ä–∏–≥–≥–µ—Ä—ã**:

  ```sql
  CREATE TRIGGER update_total
  BEFORE INSERT OR UPDATE ON orders
  FOR EACH ROW EXECUTE FUNCTION update_total_column();
  ```

---

## ‚úÖ –ö–æ–≥–¥–∞ –¥–µ–Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –æ–ø—Ä–∞–≤–¥–∞–Ω–∞?

* –°–∏—Å—Ç–µ–º–∞ —Å–∏–ª—å–Ω–æ **—á–∏—Ç–∞–µ—Ç—Å—è**, –Ω–æ **—Ä–µ–¥–∫–æ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è**
* –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ –≤–∞–∂–Ω–µ–µ **—Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏**
* –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –∏–ª–∏ –æ—Ç—á–µ—Ç–Ω–æ—Å—Ç–∏
* –ï—Å—Ç—å –º–µ—Ö–∞–Ω–∏–∑–º—ã –¥–ª—è **–ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏**

---



# –î–µ–Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –≤ PostgreSQL –Ω–∞ –ø—Ä–æ—Å—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ

–î–µ–Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è ‚Äî —ç—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å –Ω–∞–º–µ—Ä–µ–Ω–Ω–æ–≥–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –≤ –±–∞–∑–µ –¥–ª—è —É–≤–µ–ª–∏—á–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –∑–∞ —Å—á–µ—Ç —É–º–µ–Ω—å—à–µ–Ω–∏—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ JOIN-–æ–ø–µ—Ä–∞—Ü–∏–π.

## –ò—Å—Ö–æ–¥–Ω–∞—è –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (3NF)

–°–Ω–∞—á–∞–ª–∞ —Å–æ–∑–¥–∞–¥–∏–º –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –æ –∑–∞–∫–∞–∑–∞—Ö:

```sql
-- –¢–∞–±–ª–∏—Ü–∞ –∫–ª–∏–µ–Ω—Ç–æ–≤
CREATE TABLE customers (
    customer_id SERIAL PRIMARY KEY,
    name VARCHAR(100) NOT NULL,
    email VARCHAR(100) NOT NULL UNIQUE
);

-- –¢–∞–±–ª–∏—Ü–∞ —Ç–æ–≤–∞—Ä–æ–≤
CREATE TABLE products (
    product_id SERIAL PRIMARY KEY,
    name VARCHAR(100) NOT NULL,
    price DECIMAL(10, 2) NOT NULL
);

-- –¢–∞–±–ª–∏—Ü–∞ –∑–∞–∫–∞–∑–æ–≤ (–æ—Å–Ω–æ–≤–Ω–∞—è)
CREATE TABLE orders (
    order_id SERIAL PRIMARY KEY,
    customer_id INTEGER REFERENCES customers(customer_id),
    order_date TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP
);

-- –¢–∞–±–ª–∏—Ü–∞ –ø–æ–∑–∏—Ü–∏–π –∑–∞–∫–∞–∑–∞ (—Å–≤—è–∑—å many-to-many)
CREATE TABLE order_items (
    order_item_id SERIAL PRIMARY KEY,
    order_id INTEGER REFERENCES orders(order_id),
    product_id INTEGER REFERENCES products(product_id),
    quantity INTEGER NOT NULL,
    item_price DECIMAL(10, 2) NOT NULL
);
```

## –ü—Ä–æ–±–ª–µ–º–∞ –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã

–ß—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –ø–æ–ª–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∑–∞–∫–∞–∑–µ, –Ω—É–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Å–ª–æ–∂–Ω—ã–π –∑–∞–ø—Ä–æ—Å —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ JOIN:

```sql
SELECT 
    o.order_id,
    c.name AS customer_name,
    c.email AS customer_email,
    o.order_date,
    p.name AS product_name,
    oi.quantity,
    oi.item_price,
    (oi.quantity * oi.item_price) AS total_price
FROM 
    orders o
JOIN customers c ON o.customer_id = c.customer_id
JOIN order_items oi ON o.order_id = oi.order_id
JOIN products p ON oi.product_id = p.product_id
WHERE o.order_id = 123;
```

## –î–µ–Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è

–°–æ–∑–¥–∞–¥–∏–º –¥–µ–Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—É—é —Ç–∞–±–ª–∏—Ü—É, –∫–æ—Ç–æ—Ä–∞—è —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ –æ–¥–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ:

```sql
CREATE TABLE denormalized_orders (
    order_id SERIAL PRIMARY KEY,
    customer_id INTEGER,
    customer_name VARCHAR(100) NOT NULL,
    customer_email VARCHAR(100) NOT NULL,
    order_date TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    
    -- –ú–∞—Å—Å–∏–≤—ã –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤ (–¥–µ–Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è)
    product_ids INTEGER[],
    product_names VARCHAR(100)[],
    quantities INTEGER[],
    item_prices DECIMAL(10, 2)[],
    
    -- –í—ã—á–∏—Å–ª—è–µ–º–æ–µ –ø–æ–ª–µ –¥–ª—è –æ–±—â–µ–≥–æ –∏—Ç–æ–≥–∞
    order_total DECIMAL(10, 2) GENERATED ALWAYS AS (
        (SELECT SUM(quantities[i] * item_prices[i]) 
         FROM generate_subscripts(quantities, 1) AS i)
    ) STORED
);
```

## –ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã —Å –¥–µ–Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ–π

### –í—Å—Ç–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö

```sql
INSERT INTO denormalized_orders (
    customer_id,
    customer_name,
    customer_email,
    product_ids,
    product_names,
    quantities,
    item_prices
) VALUES (
    1,
    '–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤',
    'ivan@example.com',
    ARRAY[1, 2, 3],
    ARRAY['–ù–æ—É—Ç–±—É–∫', '–ú—ã—à—å', '–ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞'],
    ARRAY[1, 2, 1],
    ARRAY[1000.00, 25.50, 45.00]
);
```

### –ó–∞–ø—Ä–æ—Å –¥–∞–Ω–Ω—ã—Ö

–¢–µ–ø–µ—Ä—å –º—ã –º–æ–∂–µ–º –ø–æ–ª—É—á–∏—Ç—å –≤—Å—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∑–∞–∫–∞–∑–µ –æ–¥–Ω–∏–º –ø—Ä–æ—Å—Ç—ã–º –∑–∞–ø—Ä–æ—Å–æ–º:

```sql
SELECT * FROM denormalized_orders WHERE order_id = 1;
```

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –¥–µ–Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏

1. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –ù–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤ —Å–ª–æ–∂–Ω—ã—Ö JOIN-–æ–ø–µ—Ä–∞—Ü–∏—è—Ö
2. **–ü—Ä–æ—Å—Ç–æ—Ç–∞**: –ó–∞–ø—Ä–æ—Å—ã —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –ø—Ä–æ—â–µ –∏ –ø–æ–Ω—è—Ç–Ω–µ–µ
3. **–ß—Ç–µ–Ω–∏–µ –±—ã—Å—Ç—Ä–µ–µ**: –î–∞–Ω–Ω—ã–µ –¥–ª—è –æ—Ç—á–µ—Ç–∞ –¥–æ—Å—Ç—É–ø–Ω—ã —Å—Ä–∞–∑—É

## –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏ –¥–µ–Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏

1. **–ò–∑–±—ã—Ç–æ—á–Ω–æ—Å—Ç—å**: –î–∞–Ω–Ω—ã–µ –¥—É–±–ª–∏—Ä—É—é—Ç—Å—è
2. **–°–ª–æ–∂–Ω–æ—Å—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π**: –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–ª—è—Ç—å –≤—Å–µ –∫–æ–ø–∏–∏ –¥–∞–Ω–Ω—ã—Ö
3. **–†–∏—Å–∫ –Ω–µ—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç–∏**: –î–∞–Ω–Ω—ã–µ –º–æ–≥—É—Ç —Å—Ç–∞—Ç—å –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏–≤—ã–º–∏

## –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–µ–Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—é

1. –î–ª—è –æ—Ç—á–µ—Ç–æ–≤ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ (OLAP)
2. –ö–æ–≥–¥–∞ –æ–ø–µ—Ä–∞—Ü–∏–∏ —á—Ç–µ–Ω–∏—è –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –ø—Ä–µ–≤–æ—Å—Ö–æ–¥—è—Ç –æ–ø–µ—Ä–∞—Ü–∏–∏ –∑–∞–ø–∏—Å–∏
3. –î–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è —á–∞—Å—Ç–æ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö

–í PostgreSQL –¥–µ–Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –æ—Å–æ–±–µ–Ω–Ω–æ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º JSONB –∏–ª–∏ –º–∞—Å—Å–∏–≤–æ–≤, –∫–∞–∫ –≤ –Ω–∞—à–µ–º –ø—Ä–∏–º–µ—Ä–µ.
–î–ª—è –ø—Ä–∏–≤–µ–¥–µ–Ω–∏—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω–æ–π —Ç–∞–±–ª–∏—Ü—ã –∫  **—Ç—Ä–µ—Ç—å–µ–π –Ω–æ—Ä–º–∞–ª—å–Ω–æ–π —Ñ–æ—Ä–º–µ (3–ù–§)** , –Ω—É–∂–Ω–æ:

---

### üî∏ **–®–∞–≥ 1: –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Å—É—â–Ω–æ—Å—Ç–∏ –∏ –ø–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è –¥–∞–Ω–Ω—ã–µ**

**–ê–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö:**

| –ö–æ–ª–æ–Ω–∫–∞     | –ü—Ä–∏–∑–Ω–∞–∫–∏ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è                                                  |
| ------------------ | ------------------------------------------------------------------------------------------ |
| Partner id / name  | –ü–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è ‚Äì –Ω—É–∂–Ω–∞ –æ—Ç–¥–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ `Partner`         |
| Sale city / code   | –ü–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è ‚Äì –Ω—É–∂–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞ `City`                               |
| Reference code     | –ü—Ä–µ–¥–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ —É–Ω–∏–∫–∞–ª–µ–Ω ‚Äì –æ—Å—Ç–∞–≤–∏—Ç—å –≤ —Ñ–∞–∫—Ç–∞—Ö      |
| INN client, name   | –ü–æ–≤—Ç–æ—Ä—è—é—Ç—Å—è ‚Äì —Ç–∞–±–ª–∏—Ü–∞ `Client`                                        |
| Client city / code | –ü–æ–≤—Ç–æ—Ä—è—é—Ç—Å—è ‚Äì —Ç–∞–±–ª–∏—Ü–∞ `City`–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–æ–≤—Ç–æ—Ä–Ω–æ |
| Client category    | –ü–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è ‚Äì –æ—Ç–¥–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ `ClientCategory`             |

---

### üî∏ **–®–∞–≥ 2: –†–∞–∑–±–∏—Ç—å –Ω–∞ —Ç–∞–±–ª–∏—Ü—ã**

#### 1. `Partner`

```sql
CREATE TABLE Partner (
  partner_id INTEGER PRIMARY KEY,
  partner_name TEXT
);
```

#### 2. `City`

```sql
CREATE TABLE City (
  city_code INTEGER PRIMARY KEY,
  city_name TEXT
);
```

#### 3. `ClientCategory`

```sql
CREATE TABLE ClientCategory (
  category_name TEXT PRIMARY KEY
);
```

#### 4. `Client`

```sql
CREATE TABLE Client (
  inn BIGINT PRIMARY KEY,
  client_name TEXT,
  city_code INTEGER REFERENCES City(city_code),
  category_name TEXT REFERENCES ClientCategory(category_name)
);
```

#### 5. `Sales`

```sql
CREATE TABLE Sales (
  sale_id SERIAL PRIMARY KEY,
  partner_id INTEGER REFERENCES Partner(partner_id),
  sold_date TIMESTAMP,
  sale_city_code INTEGER REFERENCES City(city_code),
  reference_code TEXT,
  sold_qty INTEGER,
  purchase_price NUMERIC,
  client_inn BIGINT REFERENCES Client(inn)
);
```

---

### üî∏ **–®–∞–≥ 3: –î–∞–Ω–Ω—ã–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –ø–æ —Ç–∞–±–ª–∏—Ü–∞–º**

#### –ü—Ä–∏–º–µ—Ä –Ω–∞–ø–æ–ª–Ω–µ–Ω–∏—è:

```sql
-- –ì–æ—Ä–æ–¥
INSERT INTO City VALUES (66, '–ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥–≥'), (99, '–ú–æ—Å–∫–≤–∞'), (23, '–ö—Ä–∞—Å–Ω–æ–¥–∞—Ä'), (26, '–ï—Å–µ–Ω—Ç—É–∫–∏');

-- –ü–∞—Ä—Ç–Ω–µ—Ä
INSERT INTO Partner VALUES (1000576, '–ö–∞—ç—Ä–ú'), (1000765, '–¢—É—Å—Å–µ–Ω—Ç'), (1000446, '–í–µ–ª–µ–Ω'), (1000449, '–û—Ñ–∏—Ä');

-- –ö–∞—Ç–µ–≥–æ—Ä–∏—è –∫–ª–∏–µ–Ω—Ç–∞
INSERT INTO ClientCategory VALUES ('–†–∏—Ç–µ–π–ª'), ('–ò–Ω—Ç–µ–≥—Ä–∞—Ç–æ—Ä—ã'), ('–û–ø—Ç–æ–≤–∏–∫');

-- –ö–ª–∏–µ–Ω—Ç—ã
INSERT INTO Client VALUES 
(1234695212, '–û–û–û –í–µ—à–∫–∏', 99, '–†–∏—Ç–µ–π–ª'),
(9653188526, '–ò–ü –ê—Ä–∞–ø–µ—Ç—å—è–Ω', 99, '–ò–Ω—Ç–µ–≥—Ä–∞—Ç–æ—Ä—ã'),
(9965481523, '–ó–ê–û –°–≤–æ–∏', 23, '–û–ø—Ç–æ–≤–∏–∫'),
(7785236158, '–û–û–û –°—ã–Ω—ã –°–æ–ª–Ω—Ü–∞', 23, '–†–∏—Ç–µ–π–ª');

-- –ü—Ä–æ–¥–∞–∂–∏
INSERT INTO Sales (partner_id, sold_date, sale_city_code, reference_code, sold_qty, purchase_price, client_inn) VALUES
(1000576, '2021-09-08 12:49', 66, 'FERT-1233', 10, 5000, 1234695212),
(1000765, '2021-09-08 12:49', 99, 'FERT-1233', 5, 10000, 9653188526),
(1000446, '2021-09-07 08:31', 23, 'HRTY-324', 200, 345, 9965481523),
(1000449, '2021-09-06 08:09', 26, 'LSD-47', 10, 7000, 7785236158);
```

---

### ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç

–¢–µ–ø–µ—Ä—å:

* **–í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ ‚Äî –æ—Ç –∫–ª—é—á–µ–π** (1–ù–§, 2–ù–§).
* **–ù–µ—Ç —Ç—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π** : –ø–æ–ª—è –∑–∞–≤–∏—Å—è—Ç —Ç–æ–ª—å–∫–æ –æ—Ç –ø–µ—Ä–≤–∏—á–Ω—ã—Ö –∫–ª—é—á–µ–π.
* –î–∞–Ω–Ω—ã–µ  **—Ä–∞–∑–Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω—ã** , –ª–µ–≥–∫–æ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –∏ –Ω–µ —Å–æ–¥–µ—Ä–∂–∞—Ç –∏–∑–±—ã—Ç–æ—á–Ω–æ—Å—Ç–∏.

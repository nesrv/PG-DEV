
## Fact, –∫–∞–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –¥–æ–ª–∂–Ω—ã —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ Fact.	

–ß—Ç–æ —Ç–∞–∫–æ–µ —Ñ–∞–∫—Ç, –∫–∞–∫ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å. –ü–æ–¥—É–º–∞—Ç—å, —á—Ç–æ –∏–∑ —Å—Ç–æ–ª–±—Ü–æ–≤ –≤ Sell_Out –º–æ–∂–Ω–æ –≤—ã–¥–µ–ª–∏—Ç—å –≤ —Ñ–∞–∫—Ç.


—ç—Ç–æ –æ—Å–Ω–æ–≤–∞ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ –¥–∞–Ω–Ω—ã—Ö!
–†–∞–∑–±–µ—Ä—ë–º —á—ë—Ç–∫–æ: —á—Ç–æ —Ç–∞–∫–æ–µ **Fact**, –∫–∞–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –≤ –Ω—ë–º –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∏ –∫–∞–∫ –µ–≥–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø–æ—Å—Ç—Ä–æ–∏—Ç—å.

---

## üì¶ –ß—Ç–æ —Ç–∞–∫–æ–µ **Fact table** (—Ç–∞–±–ª–∏—Ü–∞ —Ñ–∞–∫—Ç–æ–≤)?

**Fact** ‚Äî —ç—Ç–æ **—Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞** –≤ —Å—Ö–µ–º–µ –∑–≤–µ–∑–¥—ã –∏–ª–∏ —Å–Ω–µ–∂–∏–Ω–∫–∏, –∫–æ—Ç–æ—Ä–∞—è —Å–æ–¥–µ—Ä–∂–∏—Ç:

* **–ß–∏—Å–ª–æ–≤—ã–µ –∏–∑–º–µ—Ä—è–µ–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è (–º–µ—Ç—Ä–∏–∫–∏)** ‚Äî –Ω–∞–ø—Ä–∏–º–µ—Ä, —Å—É–º–º–∞, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ, —Å–∫–∏–¥–∫–∞
* **–ö–ª—é—á–∏ –Ω–∞ –∏–∑–º–µ—Ä–µ–Ω–∏—è (dimensions)** ‚Äî —Å—Å—ã–ª–∫–∏ –Ω–∞ —Ç–∞–±–ª–∏—Ü—ã-–∫–∞—Ç–µ–≥–æ—Ä–∏–∏, –æ–ø–∏—Å—ã–≤–∞—é—â–∏–µ —Ñ–∞–∫—Ç

---

## üßÆ –ß—Ç–æ –•–†–ê–ù–ò–¢–°–Ø –≤ Fact?

### 1. **–ß–∏—Å–ª–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ** (–∞–≥—Ä–µ–≥–∏—Ä—É–µ–º—ã–µ):

| –ù–∞–∑–≤–∞–Ω–∏–µ –ø–æ–ª—è  | –û–ø–∏—Å–∞–Ω–∏–µ                      |
| -------------- | ----------------------------- |
| `quantity`     | –ö–æ–ª-–≤–æ –ø—Ä–æ–¥–∞–Ω–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤      |
| `total_amount` | –°—É–º–º–∞ –ø—Ä–æ–¥–∞–∂–∏                 |
| `discount`     | –°–∫–∏–¥–∫–∞                        |
| `profit`       | –ü—Ä–∏–±—ã–ª—å                       |
| `duration`     | –í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–∫–∞–∑–∞ –∏ —Ç.–ø. |

> –≠—Ç–∏ –ø–æ–ª—è –Ω–∞–∑—ã–≤–∞—é—Ç—Å—è **–∏–∑–º–µ—Ä–∏–º—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ (measures)**. –ò—Ö –º–æ–∂–Ω–æ **—Å—É–º–º–∏—Ä–æ–≤–∞—Ç—å, —Å—á–∏—Ç–∞—Ç—å —Å—Ä–µ–¥–Ω–µ–µ, –º–∞–∫—Å–∏–º—É–º, –º–∏–Ω–∏–º—É–º**.

---

### 2. **–°—É—Ä—Ä–æ–≥–∞—Ç–Ω—ã–µ –∫–ª—é—á–∏** –Ω–∞ –∏–∑–º–µ—Ä–µ–Ω–∏—è:

| –ö–ª—é—á           | –ß—Ç–æ —Å—Å—ã–ª–∞–µ—Ç—Å—è                    |
| -------------- | -------------------------------- |
| `date_key`     | ‚û°Ô∏è `DimDate` (–≥—Ä—É–ø–ø–∞ –ø–æ –≤—Ä–µ–º–µ–Ω–∏) |
| `product_key`  | ‚û°Ô∏è `DimProduct`                  |
| `store_key`    | ‚û°Ô∏è `DimStore`                    |
| `customer_key` | ‚û°Ô∏è `DimCustomer`                 |

> –≠—Ç–∏ –ø–æ–ª—è –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è **–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏** –∏ **–∞–Ω–∞–ª–∏–∑–æ–≤ –ø–æ –¥–∏–º–µ–Ω—à–Ω–∞–º**.

---

## üß± –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü—ã Fact (–ø—Ä–∏–º–µ—Ä)

```sql
CREATE TABLE FactSales (
    fact_id        BIGSERIAL PRIMARY KEY,
    date_key       INT REFERENCES DimDate(date_key),
    product_key    INT REFERENCES DimProduct(product_key),
    store_key      INT REFERENCES DimStore(store_key),
    customer_key   INT REFERENCES DimCustomer(customer_key),
    quantity       INT,
    total_amount   NUMERIC(12,2),
    discount       NUMERIC(10,2),
    profit         NUMERIC(12,2)
);
```

---

## üìå –¢–∏–ø—ã —Ñ–∞–∫—Ç–æ–≤:

| –¢–∏–ø                   | –ü—Ä–∏–º–µ—Ä                      | –û–ø–∏—Å–∞–Ω–∏–µ                              |
| --------------------- | --------------------------- | ------------------------------------- |
| üßÆ **–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω—ã–π** | –ü—Ä–æ–¥–∞–∂–∞ —Ç–æ–≤–∞—Ä–∞              | –ö–∞–∂–¥–∞—è —Å—Ç—Ä–æ–∫–∞ ‚Äî —Ñ–∞–∫—Ç (–ø—Ä–æ–¥–∞–∂–∞, –∑–∞–∫–∞–∑) |
| üìä **–°–Ω–∞–ø—à–æ—Ç**        | –ë–∞–ª–∞–Ω—Å –ø–æ —Å—á–µ—Ç—É —Ä–∞–∑ –≤ –º–µ—Å—è—Ü | –°—Ç–∞—Ç—É—Å –Ω–∞ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—É—é –¥–∞—Ç—É           |
| üîÅ **–ù–∞–∫–æ–ø–∏—Ç–µ–ª—å–Ω—ã–π**  | –í–æ—Ä–æ–Ω–∫–∞ –ø—Ä–æ–¥–∞–∂, –ª–æ–≥–∏—Å—Ç–∏–∫–∞   | –≠—Ç–∞–ø—ã –ø—Ä–æ—Ü–µ—Å—Å–∞, –º–µ–Ω—è—é—â–∏–µ—Å—è –≤–æ –≤—Ä–µ–º–µ–Ω–∏ |

---

## ‚ùå –ß—Ç–æ –ù–ï –¥–æ–ª–∂–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å—Å—è –≤ Fact:

| –ß—Ç–æ                      | –ü–æ—á–µ–º—É                                       |
| ------------------------ | -------------------------------------------- |
| –¢–µ–∫—Å—Ç–æ–≤—ã–µ –æ–ø–∏—Å–∞–Ω–∏—è       | –ù—É–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –≤ –¥–∏–º–µ–Ω—à–Ω (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–∞–∑–≤–∞–Ω–∏–µ) |
| –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ (–≥–æ—Ä–æ–¥, —Ç–æ–≤–∞—Ä) | –ü–æ–≤—Ç–æ—Ä—è—é—Ç—Å—è ‚Äî –≤ `dimension` —Ç–∞–±–ª–∏—Ü–µ          |
| –ò–∑–±—ã—Ç–æ—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ        | –ù–∞–ø—Ä–∏–º–µ—Ä, –¥—É–±–ª–∏—Ä—É—é—â–µ–µ –∏–º—è —Ç–æ–≤–∞—Ä–∞             |

---

## üß† –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å: "–≠—Ç–æ —Ñ–∞–∫—Ç –∏–ª–∏ –¥–∏–º–µ–Ω—à–Ω?"

* **–ï—Å–ª–∏ –ø–æ–ª–µ –º–æ–∂–Ω–æ —Å—É–º–º–∏—Ä–æ–≤–∞—Ç—å, —É—Å—Ä–µ–¥–Ω–∏—Ç—å** ‚Äî —ç—Ç–æ **—Ñ–∞–∫—Ç**.
* **–ï—Å–ª–∏ –ø–æ–ª–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ —Ñ–∏–ª—å—Ç—Ä/–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞** ‚Äî —ç—Ç–æ **–¥–∏–º–µ–Ω—à–Ω**.

---



* –†–∞–∑–æ–±—Ä–∞—Ç—å —Ç–≤–æ—é —Ç–∞–±–ª–∏—Ü—É `Sell_Out` –∏ –≤—ã–¥–µ–ª–∏—Ç—å –∏–∑ –Ω–µ—ë `FactSales`
* –ü–æ—Å—Ç—Ä–æ–∏—Ç—å –ø–æ–ª–Ω—É—é OLAP-—Å—Ö–µ–º—É (–∑–≤–µ–∑–¥–∞)

–û—Ç–ª–∏—á–Ω–æ! –î–∞–≤–∞–π –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º —Ç–∞–±–ª–∏—Ü—É `Sell_Out` –∏ –æ–ø—Ä–µ–¥–µ–ª–∏–º, –∫–∞–∫–∏–µ **—Å—Ç–æ–ª–±—Ü—ã —è–≤–ª—è—é—Ç—Å—è —Ñ–∞–∫—Ç–∞–º–∏** ‚Äî —Ç–æ –µ—Å—Ç—å —Å–æ–¥–µ—Ä–∂–∞—Ç **–∏–∑–º–µ—Ä—è–µ–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è**, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞—Ç—å (—Å—É–º–º–∏—Ä–æ–≤–∞—Ç—å, —Å—á–∏—Ç–∞—Ç—å —Å—Ä–µ–¥–Ω–µ–µ –∏ —Ç.–¥.).

---

## üßæ –î–æ–ø—É—Å—Ç–∏–º, —É –Ω–∞—Å –µ—Å—Ç—å —Ç–∞–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ `Sell_Out`:

\| SaleID | SaleDate | StoreID | StoreRegion | ProductID | ProductName | ProductCategory | CustomerID | Gender | Quantity | Price | Discount | TotalAmount |

---

## üîç –ß—Ç–æ –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∫ **—Ñ–∞–∫—Ç–∞–º**?

| –°—Ç–æ–ª–±–µ—Ü                                     | –ü–æ—á–µ–º—É —ç—Ç–æ —Ñ–∞–∫—Ç                                       |
| ------------------------------------------- | ----------------------------------------------------- |
| `Quantity`                                  | –≠—Ç–æ —á–∏—Å–ª–æ, –º–æ–∂–Ω–æ —Å—É–º–º–∏—Ä–æ–≤–∞—Ç—å ‚Äî —Å–∫–æ–ª—å–∫–æ –ø—Ä–æ–¥–∞–Ω–æ        |
| `Price`                                     | –¶–µ–Ω–∞ –∑–∞ –µ–¥–∏–Ω–∏—Ü—É, —É—á–∞—Å—Ç–≤—É–µ—Ç –≤ —Ä–∞—Å—á—ë—Ç–∞—Ö                 |
| `Discount`                                  | –°–∫–∏–¥–∫–∞ –Ω–∞ –ø—Ä–æ–¥–∞–∂—É, –º–æ–∂–µ—Ç –±—ã—Ç—å –∏–Ω—Ç–µ—Ä–µ—Å–Ω–∞ –≤ –∞–Ω–∞–ª–∏–∑–µ     |
| `TotalAmount`                               | –û–±—â–∞—è —Å—É–º–º–∞ (–≤–æ–∑–º–æ–∂–Ω–æ: `Quantity * Price - Discount`) |
| *(–≤–æ–∑–º–æ–∂–Ω–æ)* `Profit` (–µ—Å–ª–∏ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è) | –ú–∞—Ä–∂–∞ –ø–æ –∫–∞–∂–¥–æ–π –ø—Ä–æ–¥–∞–∂–µ                               |

---

## ‚úÖ –≠—Ç–∏ –ø–æ–ª—è –≤–æ–π–¥—É—Ç –≤ —Ç–∞–±–ª–∏—Ü—É **`FactSales`**:

```sql
quantity       INT,
price          NUMERIC(10,2),
discount       NUMERIC(10,2),
total_amount   NUMERIC(12,2)
```

> –í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–ª—è (–≤—Ä–æ–¥–µ –Ω–∞–∑–≤–∞–Ω–∏—è –º–∞–≥–∞–∑–∏–Ω–∞, –∫–ª–∏–µ–Ω—Ç–∞, –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ç–æ–≤–∞—Ä–∞) ‚Äî —ç—Ç–æ **–∏–∑–º–µ—Ä–µ–Ω–∏—è**. –ò—Ö –Ω—É–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã: `DimStore`, `DimProduct`, `DimCustomer`, `DimDate` –∏ —Ç.–¥.

---

## üß† –ö–∞–∫ –≤—ã–≥–ª—è–¥–∏—Ç –∏—Ç–æ–≥–æ–≤–∞—è —Å—Ö–µ–º–∞?

### –¢–∞–±–ª–∏—Ü–∞ —Ñ–∞–∫—Ç–æ–≤:

```
FactSales
----------
date_key
product_key
store_key
customer_key
quantity
price
discount
total_amount
```

### –¢–∞–±–ª–∏—Ü—ã –∏–∑–º–µ—Ä–µ–Ω–∏–π:

* `DimDate (date_key, year, month, day)`
* `DimProduct (product_key, name, category)`
* `DimStore (store_key, name, region)`
* `DimCustomer (customer_key, gender, age_group)`

---





